<head>
    <body>

<script>
    var pGuess = "None";
    var gAvailable = ["rock","paper","scissors"];
    var gChoice = gAvailable[getRandomInt(3)];
    var pScore = 0;
    var cScore = 0;

//creates a function to handle random numbers, for the PC's guesses
function getRandomInt(max){
    return Math.floor(Math.random() * Math.floor(max));
}

//Checks the player's choice for validity
function rpsCheckChoice(pGuess){
    pGuess = pGuess.toString();
    pGuess = pGuess.toLowerCase();
    if (pGuess == "rock" || pGuess == "paper" || pGuess == "scissors"){
        console.log("You picked " + pGuess);
    }
    else{
        console.log(pGuess +" wasn't a valid guess... Try again.");
        rpsPlay();
    }
}

// Begins play
function rpsPlay(){
    
    pGuess = prompt();
    rpsCheckChoice(pGuess);

}

//Prints the PC's guess
function rpsCompGuess(){
    
    if (gChoice == "rock"){
        console.log("I chose Rock...");
    }
    else if (gChoice == "paper"){
        console.log("I chose Paper...");
    }
    else{
        console.log("I chose Scissors...");
    }

}

//Scores for either the player or PC
function scoring(){

    if (pGuess == gChoice){
        console.log("Looks like we picked the same thing! Nobody wins.");
    }
    else if (pGuess == "rock" && gChoice == "scissors"){
        pScore ++;
        console.log("Nice! You won. Now you have " + pScore + " point(s)");
    }
    else if (pGuess == "paper" && gChoice == "rock"){
        pScore ++;
        console.log("Nice! You won. Now you have " + pScore + " point(s)");
    }
    else if (pGuess == "scissors" && gChoice == "paper"){
        pScore ++;
        console.log("Nice! You won. Now you have " + pScore + " point(s)");
    }
    else {
        cScore ++;
        console.log("You lost this round, now I have " + cScore + " point(s)");
    }
}

//Game Handler calls itself at the end of play, unless prompted not to.
function gameHandler(){

// order of play
    console.log("Hello player! Pick from rock, paper, or scissors");
    rpsPlay();
    rpsCompGuess();
    scoring();
    console.log("Play again? Y/N");

    response = prompt();
    if (response == "y"){
        gChoice = gAvailable[getRandomInt(3)];
        gameHandler();
    }
    else{
        console.log("Thanks for playing")
    }
}

gameHandler();


</script>

    </body>
</head>